import{_ as s,c as a,o as i,a3 as e}from"./chunks/framework.CL2rMF_2.js";const F=JSON.parse('{"title":"Docker","description":"","frontmatter":{},"headers":[],"relativePath":"column/LargeFrontEnd2023/98_Docker.md","filePath":"column/LargeFrontEnd2023/98_Docker.md"}'),t={name:"column/LargeFrontEnd2023/98_Docker.md"},n=e(`<h1 id="docker" tabindex="-1">Docker <a class="header-anchor" href="#docker" aria-label="Permalink to &quot;Docker&quot;">​</a></h1><h2 id="docker主要特性" tabindex="-1">Docker主要特性 <a class="header-anchor" href="#docker主要特性" aria-label="Permalink to &quot;Docker主要特性&quot;">​</a></h2><ul><li>文件、资源、网络隔离</li><li><strong>变更管理</strong>、日志记录</li><li><strong>写时复制</strong></li></ul><h2 id="ubuntu-安装docker" tabindex="-1">ubuntu 安装docker <a class="header-anchor" href="#ubuntu-安装docker" aria-label="Permalink to &quot;ubuntu 安装docker&quot;">​</a></h2><p>在Ubuntu上安装Docker的步骤如下：</p><h3 id="_1-更新软件包列表" tabindex="-1">1. 更新软件包列表 <a class="header-anchor" href="#_1-更新软件包列表" aria-label="Permalink to &quot;1. 更新软件包列表&quot;">​</a></h3><p>首先，确保您的软件包列表是最新的：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div><h3 id="_2-安装必要的依赖包" tabindex="-1">2. 安装必要的依赖包 <a class="header-anchor" href="#_2-安装必要的依赖包" aria-label="Permalink to &quot;2. 安装必要的依赖包&quot;">​</a></h3><p>安装一些软件包，这些软件包将允许 <code>apt</code> 使用 HTTPS 来获取包：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-transport-https</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ca-certificates</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> curl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> software-properties-common</span></span></code></pre></div><h3 id="_3-添加docker的官方gpg密钥" tabindex="-1">3. 添加Docker的官方GPG密钥 <a class="header-anchor" href="#_3-添加docker的官方gpg密钥" aria-label="Permalink to &quot;3. 添加Docker的官方GPG密钥&quot;">​</a></h3><p>使用以下命令添加Docker的官方GPG密钥：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://download.docker.com/linux/ubuntu/gpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt-key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span></span></code></pre></div><h3 id="_4-添加docker的apt存储库" tabindex="-1">4. 添加Docker的APT存储库 <a class="header-anchor" href="#_4-添加docker的apt存储库" aria-label="Permalink to &quot;4. 添加Docker的APT存储库&quot;">​</a></h3><p>使用以下命令将Docker的APT存储库添加到您的系统中：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add-apt-repository</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lsb_release</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -cs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">) stable&quot;</span></span></code></pre></div><h3 id="_5-更新软件包列表" tabindex="-1">5. 更新软件包列表 <a class="header-anchor" href="#_5-更新软件包列表" aria-label="Permalink to &quot;5. 更新软件包列表&quot;">​</a></h3><p>再次更新您的软件包列表，以便包含Docker的存储库：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div><h3 id="_6-安装docker-ce-社区版" tabindex="-1">6. 安装Docker CE（社区版） <a class="header-anchor" href="#_6-安装docker-ce-社区版" aria-label="Permalink to &quot;6. 安装Docker CE（社区版）&quot;">​</a></h3><p>现在可以安装Docker CE：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apt</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker-ce</span></span></code></pre></div><h3 id="_7-启动并启用docker服务" tabindex="-1">7. 启动并启用Docker服务 <a class="header-anchor" href="#_7-启动并启用docker服务" aria-label="Permalink to &quot;7. 启动并启用Docker服务&quot;">​</a></h3><p>确保Docker服务已启动并在系统启动时自动启动：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> enable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre></div><h3 id="_8-验证docker安装" tabindex="-1">8. 验证Docker安装 <a class="header-anchor" href="#_8-验证docker安装" aria-label="Permalink to &quot;8. 验证Docker安装&quot;">​</a></h3><p>运行以下命令来验证Docker是否安装成功：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span></span></code></pre></div><p>如果安装成功，您会看到类似于以下的输出：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 20.10.7,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> f0df350</span></span></code></pre></div><h3 id="_9-运行docker测试容器" tabindex="-1">9. 运行Docker测试容器 <a class="header-anchor" href="#_9-运行docker测试容器" aria-label="Permalink to &quot;9. 运行Docker测试容器&quot;">​</a></h3><p>您可以运行一个测试容器来确保Docker运行正常：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hello-world</span></span></code></pre></div><p>如果一切正常，您将看到以下输出：</p><div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Hello from Docker!</span></span>
<span class="line"><span>This message shows that your installation appears to be working correctly.</span></span></code></pre></div><h3 id="_10-可选-将当前用户添加到docker组" tabindex="-1">10. 可选：将当前用户添加到docker组 <a class="header-anchor" href="#_10-可选-将当前用户添加到docker组" aria-label="Permalink to &quot;10. 可选：将当前用户添加到docker组&quot;">​</a></h3><p>默认情况下，<code>docker</code>命令需要<code>sudo</code>权限。如果希望不使用<code>sudo</code>来运行<code>docker</code>命令，可以将当前用户添加到<code>docker</code>组：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usermod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -aG</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $USER</span></span></code></pre></div><h2 id="更改docker-镜像源" tabindex="-1">更改Docker 镜像源 <a class="header-anchor" href="#更改docker-镜像源" aria-label="Permalink to &quot;更改Docker 镜像源&quot;">​</a></h2><p>要将 Docker 镜像源更改为腾讯云镜像源，您需要编辑 Docker 的配置文件，并添加或更新镜像源的地址。以下是在 Ubuntu 系统上将 Docker 镜像源更改为腾讯云的步骤：</p><ol><li><p>打开或创建 Docker 的配置文件 <code>/etc/docker/daemon.json</code>（如果不存在的话）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nano</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/docker/daemon.json</span></span></code></pre></div></li><li><p>如果 <code>daemon.json</code> 文件中已经有内容，请确保在编辑之前备份该文件。然后，在该文件中添加以下内容，以将镜像源更改为腾讯云镜像源：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;registry-mirrors&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;https://mirror.ccs.tencentyun.com&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>如果您希望保留其他配置，请将上述内容添加到现有的 JSON 结构中。</p></li><li><p>保存并关闭文件（在 nano 编辑器中，按 <code>Ctrl + X</code>，然后按 <code>Y</code> 确认保存，最后按 <code>Enter</code>）。</p></li><li><p>重新加载 Docker 配置：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon-reload</span></span></code></pre></div></li><li><p>重启 Docker 服务：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> restart</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span></span></code></pre></div></li></ol><p>现在，您的 Docker 镜像源已经更改为腾讯云。您可以尝试执行 <code>sudo docker pull hello-world</code> 命令来测试是否能够从腾讯云镜像源成功下载镜像。</p>`,43),h=[n];function l(p,o,d,k,r,c){return i(),a("div",null,h)}const u=s(t,[["render",l]]);export{F as __pageData,u as default};
